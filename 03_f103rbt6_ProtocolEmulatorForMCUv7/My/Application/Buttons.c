/*
 * Buttons.c
 *
 *  Created on: 3 нояб. 2022 г.
 *      Author: belyaev
 */
//*******************************************************************************************
//*******************************************************************************************

#include "Buttons.h"

//*******************************************************************************************
//*******************************************************************************************

static ButtonStates_t buttonStates;

//*******************************************************************************************
//*******************************************************************************************

//************************************************************

//*******************************************************************************************
//*******************************************************************************************
//*******************************************************************************************
//*******************************************************************************************
void BUTTONS_Init(void){

}
//************************************************************
uint8_t BUTTONS_CheckLoop(void){

		   uint32_t butInstantState = 0;
	static uint32_t butOldState     = 0;
	//--------------------
	//После чтения состояния кнопок производится сортировка битов кнопок
//	if(Sm1628ReadButton())
//	{
//		ButtonSorting();
//		buttonStates = ButtonsSTR.All;
		//------
		buttonStates.instant   = butInstantState;
		buttonStates.isPress   = (butOldState ^ butInstantState) & butInstantState;
		buttonStates.isRelease = (~butInstantState) & butOldState;
		buttonStates.isToggle ^= buttonStates.isPress;

		buttonStates.f_ready = FLAG_SET;

		butOldState = butInstantState;
		return 1;
//	}
//	return 0;
}
//************************************************************

//************************************************************

//*******************************************************************************************
//*******************************************************************************************
//*******************************************************************************************
//*******************************************************************************************


